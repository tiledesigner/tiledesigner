<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Tile Maker</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">

  </head>
<body>
  <div class="container">
    <div id="Intro">
  <h1>Tile Maker</h1>
  <p>This page is a tile maker, tile editor or tile designer - to create tiles for videogames.</p>
   <p>At the moment, this is compatible with the <a href="https://www.puzzlescript.net">puzzlescript</a> editor.</p>
  <p>Click on each individual pixel in the tile board below to assign the chosen colour. Click again to recover the previous colour.</p>
</div>
    <div id="TileMaker" class="row">
    <div id="TileDrawer" class="col">
      <input type="text" class="form-control" id="TileTitle" placeholder="MyTile">
     <canvas id="TileEditor" onmousedown="canvas.ClickTile(event)" width="300" height="300" style="border:1px solid #d3d3d3;">
    As your browser does not support the HTML5 canvas tag, this tile editor won't work...</canvas>
    <button type="button" class="btn btn-primary" onclick="canvas.TileSave()">Save Tile</button>
    <button type="button" class="btn btn-primary" onclick="canvas.TileLoad()">Load Tile</button>
    </div>
    <div id="Parameters" class="col">

      <!-- Colour Palette menu-->
      <button type="button" class="btn btn-dark" data-toggle="collapse" data-target="#PaletteMenu">Pick a Colour</button>
      <div class="collapse" id="PaletteMenu">
                <div class="container bg-light text-dark">
          <div class="row" style="height: 100px">
          <div><input id="ColorPicker" height="100%" value="#000000" type="color" ></div>
          <button id="ColorTransparency" type="button" class="btn btn-outline-dark" data-toggle="button">
                     Transparent?</button>
        </div>
          <ul class="nav nav-tabs" id="Palette" role="tablist">
          <li class="nav-item">
            <a class="nav-link active" id="LastPicked-tab" data-toggle="tab" href="#LastPicked" role="tab" aria-controls="LastPicked" aria-selected="true">Last Picked</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" id="Tile-tab" data-toggle="tab" href="#Tile" role="tab" aria-controls="Tile" aria-selected="false">Current tile</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" id="Tileset-tab" data-toggle="tab" href="#Tileset" role="tab" aria-controls="Tileset" aria-selected="false">Tileset</a>
           </li>
        </ul>
          <div class="tab-content" id="myTabContent">
          <div class="tab-pane fade show active" id="LastPicked" role="tabpanel" aria-labelledby="LastPicked-tab">
            <div class="container">
            <div class="row" id="palettelast"></div>
          </div>
          </div>
          <div class="tab-pane fade" id="Tile" role="tabpanel" aria-labelledby="Tile-tab">
              <div class="container">
                <div class="row" id="palettetile"></div>
            </div>
            </div>
          <div class="tab-pane fade" id="Tileset" role="tabpanel" aria-labelledby="Tileset-tab">
              <div class="container"><div class="row" id="palettetileset"></div>
            </div>
          </div>
        </div>  
          <ul class="nav nav-tabs" id="HSL" role="tablist">
          <li class="nav-item">
            <a class="nav-link active" id="Hue-tab" data-toggle="tab" href="#Hue" role="tab" aria-controls="Hue" aria-selected="true">Hue</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" id="Saturation-tab" data-toggle="tab" href="#Saturation" role="tab" aria-controls="Saturation" aria-selected="false">Saturation</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" id="Brightness-tab" data-toggle="tab" href="#Brightness" role="tab" aria-controls="Brightness" aria-selected="false">Brightness</a>
           </li>
        </ul>
          <div class="tab-content" id="myTabContent">
          <div class="tab-pane fade show active" id="Hue" role="tabpanel" aria-labelledby="Hue-tab">
            <div class="container">
            <div class="row" id="paletteColorise"></div>
          </div>
          </div>
          <div class="tab-pane fade" id="Saturation" role="tabpanel" aria-labelledby="Saturation-tab">
              <div class="container">
                <div class="row" id="paletteSaturate"></div>
            </div>
            </div>
          <div class="tab-pane fade" id="Brightness" role="tabpanel" aria-labelledby="Brightness-tab">
              <div class="container"><div class="row" id="paletteBrighten"></div>
            </div>
            </div>
         
        </div>
          <div class="footer">
           <button type="button" class="btn btn-primary" onclick="canvas.ApplyColorFunction()">Apply to Tile</button>
          <button type="button" class="btn btn-primary">Apply to Tileset</button>
        </div>
        </div>

      </div>
      
      
      <div class="row">
        <button type="button" class="btn btn-warning" onclick="canvas.Undo()">Undo</button>
        <button type="button" class="btn btn-warning" onclick="canvas.Redo()">Redo</button>

      <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropFlip" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Flip
        </button>
        <div class="dropdown-menu" aria-labelledby="dropFlip">
           <button type="button" class="btn dropdown-item" onclick="canvas.MatrixFlipHorizontal()">Horizontal</button>
          <button type="button" class="btn dropdown-item" onclick="canvas.MatrixFlipVertical()">Vertical</button>
        </div>
      </div>
      
      <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropMirror" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Mirror
        </button>
        <div class="dropdown-menu" aria-labelledby="dropMirror">
        <button type="button" class="btn dropdown-item" onclick="canvas.MatrixMirrorHorizontal()">Horizontal</button>
        <button type="button" class="btn dropdown-item" onclick="canvas.MatrixMirrorVertical()">Vertical</button>        </div>
      </div>


        <div class="input-group">
          <span class="input-group-btn">
            <button id="UpdateB" onclick="canvas.ChangeBoardSize()" class="btn btn-secondary" type="button">Change Board Size</button>
          </span>
          <input type="number" id="Nsquares" name="Range" value="5" min="0" max="100" class="form-control">
        </div>

        <button id="ClearB" type="button" class="btn btn-danger" onclick="canvas.ClearBoard()">Clear board</button>
        <button id="PrintB" type="button" class="btn btn-primary" data-toggle="modal" data-target="#ExportMenu" onclick="canvas.PrintBoard()">Export</button>

      </div>
      </div>
    <h2>Tile set</h2>
    <div id="TileSet" class="row">
    </div>
    
    <div id="Footer">
      <h2>Credits</h2>
      <p>Last version: November 2017.</p>
      <p> Programmed in HTML and Javascript within <a href="https://repl.it/">repl</a>, styled with the <a href="https://getbootstrap.com">Bootstrap library</a>.</p>
    </div>
  </div>

  

<!-- Export menu -->

<div class="modal fade" id="ExportMenu" tabindex="-1" role="dialog" aria-labelledby="ExportMenuLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="ExportMenuLabel">Export</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      
      <div class="modal-body">
          <ul class="nav nav-tabs" id="Export" role="tablist">
          <li class="nav-item">
            <a class="nav-link active" id="TileEx-tab" data-toggle="tab" href="#TileEx" role="tab" aria-controls="TileEx" aria-selected="true">Tile</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" id="TilesetEx-tab" data-toggle="tab" href="#TilesetEx" role="tab" aria-controls="TilesetEx" aria-selected="false">Tileset</a>
          </li>
           </ul>
          <div class="tab-content" id="myTabContent">
          <div class="tab-pane fade show active" id="TileEx" role="tabpanel" aria-labelledby="TileEx-tab">
            <div class="container">

        <pre><code id="PrintedBoard"></code></pre>

        <img id="ImagedBoard" height="100px">


          </div>
          </div>
          <div class="tab-pane fade" id="TilesetEx" role="tabpanel" aria-labelledby="TilesetEx-tab">
              <div class="container">

          </div>
          </div>
          
        </div>
        </div>
      

      
      
      
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Copy</button>
      </div>
    </div>
  </div>
</div>




<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>



<script src="index.js"></script>
<script src="test.js"></script>

</body>
</html>